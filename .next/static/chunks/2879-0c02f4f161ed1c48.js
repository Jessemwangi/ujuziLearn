(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2879],{58875:function(a,b,c){var d,e,f; /*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/ f={canUseDOM:e=!!("undefined"!=typeof window&&window.document&&window.document.createElement),canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen},void 0!==(d=(function(){return f}).call(b,c,b,a))&&(a.exports=d)},92703:function(a,b,c){"use strict";var d=c(50414);function e(){}function f(){}f.resetWarningCache=e,a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},45697:function(a,b,c){a.exports=c(92703)()},50414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},92879:function(a,b,c){"use strict";var d=c(67294),e=c(45697),f=c.n(e),g=c(83253),h=c.n(g);function i(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?i(Object(c),!0).forEach(function(b){l(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(){return(m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function p(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(a,b){return t(a)||v(a,b)||w(a,b)||z()}function r(a){return s(a)||u(a)||w(a)||y()}function s(a){if(Array.isArray(a))return x(a)}function t(a){if(Array.isArray(a))return a}function u(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function v(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function w(a,b){if(a){if("string"==typeof a)return x(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x(a,b)}}function x(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function y(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;if(!a)return"";var c=a;return b&&Object.keys(b).forEach(function(a){c=c.replace(a,b[a])}),c}function B(){return void 0!==c.g.window?c.g.window.innerWidth:0}var C=function(){try{return c.g.window.location.hostname!==c.g.window.parent.location.hostname}catch(a){return!0}};function D(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:c.g.window.self;return a===c.g.window.top?a:C()?a:D(a.parent)}var E={ESC:27,LEFT_ARROW:37,RIGHT_ARROW:39},F=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}(t,a);var b,e,f,g,i,s=(b=t,e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c,d,f=n(b);if(e){var g=n(this).constructor;d=Reflect.construct(f,arguments,g)}else d=f.apply(this,arguments);return a=this,(c=d)&&("object"==typeof c||"function"==typeof c)?c:p(a)});function t(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,t),(b=s.call(this,a)).state={isClosing:!a.animationDisabled,shouldAnimate:!1,zoomLevel:0,offsetX:0,offsetY:0,loadErrorStatus:{}},b.outerEl=d.createRef(),b.zoomInBtn=d.createRef(),b.zoomOutBtn=d.createRef(),b.caption=d.createRef(),b.closeIfClickInner=b.closeIfClickInner.bind(p(b)),b.handleImageDoubleClick=b.handleImageDoubleClick.bind(p(b)),b.handleImageMouseWheel=b.handleImageMouseWheel.bind(p(b)),b.handleKeyInput=b.handleKeyInput.bind(p(b)),b.handleMouseUp=b.handleMouseUp.bind(p(b)),b.handleMouseDown=b.handleMouseDown.bind(p(b)),b.handleMouseMove=b.handleMouseMove.bind(p(b)),b.handleOuterMousewheel=b.handleOuterMousewheel.bind(p(b)),b.handleTouchStart=b.handleTouchStart.bind(p(b)),b.handleTouchMove=b.handleTouchMove.bind(p(b)),b.handleTouchEnd=b.handleTouchEnd.bind(p(b)),b.handlePointerEvent=b.handlePointerEvent.bind(p(b)),b.handleCaptionMousewheel=b.handleCaptionMousewheel.bind(p(b)),b.handleWindowResize=b.handleWindowResize.bind(p(b)),b.handleZoomInButtonClick=b.handleZoomInButtonClick.bind(p(b)),b.handleZoomOutButtonClick=b.handleZoomOutButtonClick.bind(p(b)),b.requestClose=b.requestClose.bind(p(b)),b.requestMoveNext=b.requestMoveNext.bind(p(b)),b.requestMovePrev=b.requestMovePrev.bind(p(b)),b.timeouts=[],b.currentAction=0,b.eventsSource=0,b.pointerList=[],b.preventInnerClose=!1,b.preventInnerCloseTimeout=null,b.keyPressed=!1,b.imageCache={},b.lastKeyDownTime=0,b.resizeTimeout=null,b.wheelActionTimeout=null,b.resetScrollTimeout=null,b.scrollX=0,b.scrollY=0,b.moveStartX=0,b.moveStartY=0,b.moveStartOffsetX=0,b.moveStartOffsetY=0,b.swipeStartX=0,b.swipeStartY=0,b.swipeEndX=0,b.swipeEndY=0,b.pinchTouchList=null,b.pinchDistance=0,b.keyCounter=0,b.moveRequested=!1,b}return f=t,g=[{key:"componentDidMount",value:function(){var a=this;this.props.animationDisabled||this.setState({isClosing:!1}),this.windowContext=D(),this.listeners={resize:this.handleWindowResize,mouseup:this.handleMouseUp,touchend:this.handleTouchEnd,touchcancel:this.handleTouchEnd,pointerdown:this.handlePointerEvent,pointermove:this.handlePointerEvent,pointerup:this.handlePointerEvent,pointercancel:this.handlePointerEvent},Object.keys(this.listeners).forEach(function(b){a.windowContext.addEventListener(b,a.listeners[b])}),this.loadAllImages()}},{key:"shouldComponentUpdate",value:function(a){var b=this;return this.getSrcTypes().forEach(function(c){b.props[c.name]!==a[c.name]&&(b.moveRequested=!1)}),!this.moveRequested}},{key:"componentDidUpdate",value:function(a){var b=this,c=!1,d={},e={};this.getSrcTypes().forEach(function(f){a[f.name]!==b.props[f.name]&&(c=!0,d[a[f.name]]=!0,e[b.props[f.name]]=!0)}),(c||this.moveRequested)&&(Object.keys(d).forEach(function(a){!(a in e)&&a in b.imageCache&&(b.imageCache[a].loaded=!1)}),this.moveRequested=!1,this.loadAllImages(this.props))}},{key:"componentWillUnmount",value:function(){var a=this;this.didUnmount=!0,Object.keys(this.listeners).forEach(function(b){a.windowContext.removeEventListener(b,a.listeners[b])}),this.timeouts.forEach(function(a){return clearTimeout(a)})}},{key:"setTimeout",value:function(a){function b(b,c){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a,b){var c=this,d=setTimeout(function(){c.timeouts=c.timeouts.filter(function(a){return a!==d}),a()},b);return this.timeouts.push(d),d})},{key:"setPreventInnerClose",value:function(){var a=this;this.preventInnerCloseTimeout&&this.clearTimeout(this.preventInnerCloseTimeout),this.preventInnerClose=!0,this.preventInnerCloseTimeout=this.setTimeout(function(){a.preventInnerClose=!1,a.preventInnerCloseTimeout=null},100)}},{key:"getBestImageForType",value:function(a){var b=this.props[a],c={};if(this.isImageLoaded(b))c=this.getFitSizes(this.imageCache[b].width,this.imageCache[b].height);else{if(!this.isImageLoaded(this.props["".concat(a,"Thumbnail")]))return null;b=this.props["".concat(a,"Thumbnail")],c=this.getFitSizes(this.imageCache[b].width,this.imageCache[b].height,!0)}return{src:b,height:this.imageCache[b].height,width:this.imageCache[b].width,targetHeight:c.height,targetWidth:c.width}}},{key:"getFitSizes",value:function(a,b,c){var d,e=this.getLightboxRect(),f=e.height-2*this.props.imagePadding,g=e.width-2*this.props.imagePadding;return c||(f=Math.min(f,b),g=Math.min(g,a)),g/f>a/b?{width:a*f/b,height:f}:{width:g,height:b*g/a}}},{key:"getMaxOffsets",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,b=this.getBestImageForType("mainSrc");if(null===b)return{maxX:0,minX:0,maxY:0,minY:0};var c=this.getLightboxRect(),d=this.getZoomMultiplier(a),e=0;e=d*b.width-c.width<0?(c.width-d*b.width)/2:(d*b.width-c.width)/2;var f=0;return{maxX:e,maxY:f=d*b.height-c.height<0?(c.height-d*b.height)/2:(d*b.height-c.height)/2,minX:-1*e,minY:-1*f}}},{key:"getSrcTypes",value:function(){return[{name:"mainSrc",keyEnding:"i".concat(this.keyCounter)},{name:"mainSrcThumbnail",keyEnding:"t".concat(this.keyCounter)},{name:"nextSrc",keyEnding:"i".concat(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t".concat(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i".concat(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t".concat(this.keyCounter-1)}]}},{key:"getZoomMultiplier",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;return Math.pow(1.007,a)}},{key:"getLightboxRect",value:function(){return this.outerEl.current?this.outerEl.current.getBoundingClientRect():{width:B(),height:void 0!==c.g.window?c.g.window.innerHeight:0,top:0,right:0,bottom:0,left:0}}},{key:"clearTimeout",value:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){this.timeouts=this.timeouts.filter(function(b){return b!==a}),clearTimeout(a)})},{key:"changeZoom",value:function(a,b,c){if(this.props.enableZoom){var d=Math.max(0,Math.min(300,a));if(d!==this.state.zoomLevel){if(0===d){this.setState({zoomLevel:d,offsetX:0,offsetY:0});return}var e=this.getBestImageForType("mainSrc");if(null!==e){var f=this.getZoomMultiplier(),g=this.getZoomMultiplier(d),h=this.getLightboxRect(),i=void 0!==b?b-h.left:h.width/2,j=void 0!==c?c-h.top:h.height/2,k=(h.width-e.width*f)/2,l=(h.height-e.height*f)/2,m=k-this.state.offsetX,n=l-this.state.offsetY,o=(h.width-e.width*g)/2,p=(h.height-e.height*g)/2,q=o-(i-(i-m)/f*g),r=p-(j-(j-n)/f*g);if(3!==this.currentAction){var s=this.getMaxOffsets();this.state.zoomLevel>d&&(q=Math.max(s.minX,Math.min(s.maxX,q)),r=Math.max(s.minY,Math.min(s.maxY,r)))}this.setState({zoomLevel:d,offsetX:q,offsetY:r})}}}}},{key:"closeIfClickInner",value:function(a){!this.preventInnerClose&&a.target.className.search(/\bril-inner\b/)> -1&&this.requestClose(a)}},{key:"handleKeyInput",value:function(a){if(a.stopPropagation(),!this.isAnimating()){if("keyup"===a.type){this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus;return}var b=a.which||a.keyCode,c=new Date;if(!(c.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit)||b===E.ESC)switch(this.lastKeyDownTime=c.getTime(),b){case E.ESC:a.preventDefault(),this.requestClose(a);break;case E.LEFT_ARROW:if(!this.props.prevSrc)return;a.preventDefault(),this.keyPressed=!0,this.requestMovePrev(a);break;case E.RIGHT_ARROW:if(!this.props.nextSrc)return;a.preventDefault(),this.keyPressed=!0,this.requestMoveNext(a)}}}},{key:"handleOuterMousewheel",value:function(a){var b=this;a.stopPropagation();var c=0;if(this.clearTimeout(this.resetScrollTimeout),this.resetScrollTimeout=this.setTimeout(function(){b.scrollX=0,b.scrollY=0},300),!(null!==this.wheelActionTimeout||this.isAnimating())){if(Math.abs(a.deltaY)<Math.abs(a.deltaX)){this.scrollY=0,this.scrollX+=a.deltaX;var d=100;this.scrollX>=200||a.deltaX>=d?(this.requestMoveNext(a),c=500,this.scrollX=0):(this.scrollX<= -200||a.deltaX<= -1*d)&&(this.requestMovePrev(a),c=500,this.scrollX=0)}0!==c&&(this.wheelActionTimeout=this.setTimeout(function(){b.wheelActionTimeout=null},c))}}},{key:"handleImageMouseWheel",value:function(a){Math.abs(a.deltaY)>=Math.abs(a.deltaX)&&(a.stopPropagation(),!(1>Math.abs(a.deltaY))&&(this.scrollX=0,this.scrollY+=a.deltaY,this.changeZoom(this.state.zoomLevel-a.deltaY,a.clientX,a.clientY)))}},{key:"handleImageDoubleClick",value:function(a){this.state.zoomLevel>0?this.changeZoom(0,a.clientX,a.clientY):this.changeZoom(this.state.zoomLevel+100,a.clientX,a.clientY)}},{key:"shouldHandleEvent",value:function(a){if(this.eventsSource===a)return!0;if(0===this.eventsSource)return this.eventsSource=a,!0;switch(a){case 1:default:return!1;case 2:return this.eventsSource=2,this.filterPointersBySource(),!0;case 3:if(1===this.eventsSource)return this.eventsSource=3,this.filterPointersBySource(),!0;return!1}}},{key:"addPointer",value:function(a){this.pointerList.push(a)}},{key:"removePointer",value:function(a){this.pointerList=this.pointerList.filter(function(b){return b.id!==a.id})}},{key:"filterPointersBySource",value:function(){var a=this;this.pointerList=this.pointerList.filter(function(b){return b.source===a.eventsSource})}},{key:"handleMouseDown",value:function(a){this.shouldHandleEvent(1)&&t.isTargetMatchImage(a.target)&&(this.addPointer(t.parseMouseEvent(a)),this.multiPointerStart(a))}},{key:"handleMouseMove",value:function(a){this.shouldHandleEvent(1)&&this.multiPointerMove(a,[t.parseMouseEvent(a)])}},{key:"handleMouseUp",value:function(a){this.shouldHandleEvent(1)&&(this.removePointer(t.parseMouseEvent(a)),this.multiPointerEnd(a))}},{key:"handlePointerEvent",value:function(a){if(this.shouldHandleEvent(3))switch(a.type){case"pointerdown":t.isTargetMatchImage(a.target)&&(this.addPointer(t.parsePointerEvent(a)),this.multiPointerStart(a));break;case"pointermove":this.multiPointerMove(a,[t.parsePointerEvent(a)]);break;case"pointerup":case"pointercancel":this.removePointer(t.parsePointerEvent(a)),this.multiPointerEnd(a)}}},{key:"handleTouchStart",value:function(a){var b=this;this.shouldHandleEvent(2)&&t.isTargetMatchImage(a.target)&&([].forEach.call(a.changedTouches,function(a){return b.addPointer(t.parseTouchPointer(a))}),this.multiPointerStart(a))}},{key:"handleTouchMove",value:function(a){this.shouldHandleEvent(2)&&this.multiPointerMove(a,[].map.call(a.changedTouches,function(a){return t.parseTouchPointer(a)}))}},{key:"handleTouchEnd",value:function(a){var b=this;this.shouldHandleEvent(2)&&([].map.call(a.changedTouches,function(a){return b.removePointer(t.parseTouchPointer(a))}),this.multiPointerEnd(a))}},{key:"decideMoveOrSwipe",value:function(a){this.state.zoomLevel<=0?this.handleSwipeStart(a):this.handleMoveStart(a)}},{key:"multiPointerStart",value:function(a){switch(this.handleEnd(null),this.pointerList.length){case 1:a.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:a.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"multiPointerMove",value:function(a,b){switch(this.currentAction){case 1:a.preventDefault(),this.handleMove(b[0]);break;case 2:a.preventDefault(),this.handleSwipe(b[0]);break;case 3:a.preventDefault(),this.handlePinch(b)}}},{key:"multiPointerEnd",value:function(a){switch(0!==this.currentAction&&(this.setPreventInnerClose(),this.handleEnd(a)),this.pointerList.length){case 0:this.eventsSource=0;break;case 1:a.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:a.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"handleEnd",value:function(a){switch(this.currentAction){case 1:this.handleMoveEnd(a);break;case 2:this.handleSwipeEnd(a);break;case 3:this.handlePinchEnd(a)}}},{key:"handleMoveStart",value:function(a){var b=a.x,c=a.y;this.props.enableZoom&&(this.currentAction=1,this.moveStartX=b,this.moveStartY=c,this.moveStartOffsetX=this.state.offsetX,this.moveStartOffsetY=this.state.offsetY)}},{key:"handleMove",value:function(a){var b=a.x,c=a.y,d=this.moveStartX-b+this.moveStartOffsetX,e=this.moveStartY-c+this.moveStartOffsetY;(this.state.offsetX!==d||this.state.offsetY!==e)&&this.setState({offsetX:d,offsetY:e})}},{key:"handleMoveEnd",value:function(){var a=this;this.currentAction=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0;var b=this.getMaxOffsets(),c=Math.max(b.minX,Math.min(b.maxX,this.state.offsetX)),d=Math.max(b.minY,Math.min(b.maxY,this.state.offsetY));(c!==this.state.offsetX||d!==this.state.offsetY)&&(this.setState({offsetX:c,offsetY:d,shouldAnimate:!0}),this.setTimeout(function(){a.setState({shouldAnimate:!1})},this.props.animationDuration))}},{key:"handleSwipeStart",value:function(a){var b=a.x,c=a.y;this.currentAction=2,this.swipeStartX=b,this.swipeStartY=c,this.swipeEndX=b,this.swipeEndY=c}},{key:"handleSwipe",value:function(a){var b=a.x,c=a.y;this.swipeEndX=b,this.swipeEndY=c}},{key:"handleSwipeEnd",value:function(a){var b=this.swipeEndX-this.swipeStartX,c=Math.abs(b),d=Math.abs(this.swipeEndY-this.swipeStartY);if(this.currentAction=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,!(!a||this.isAnimating())&&!(c<1.5*d)){if(c<200&&c<this.getLightboxRect().width/4)return;b>0&&this.props.prevSrc?(a.preventDefault(),this.requestMovePrev()):b<0&&this.props.nextSrc&&(a.preventDefault(),this.requestMoveNext())}}},{key:"calculatePinchDistance",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.pinchTouchList,b=q(a,2),c=b[0],d=b[1];return Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2))}},{key:"calculatePinchCenter",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.pinchTouchList,b=q(a,2),c=b[0],d=b[1];return{x:c.x-(c.x-d.x)/2,y:c.y-(c.y-d.y)/2}}},{key:"handlePinchStart",value:function(a){this.props.enableZoom&&(this.currentAction=3,this.pinchTouchList=a.map(function(a){var b=a.id,c=a.x,d=a.y;return{id:b,x:c,y:d}}),this.pinchDistance=this.calculatePinchDistance())}},{key:"handlePinch",value:function(a){this.pinchTouchList=this.pinchTouchList.map(function(b){for(var c=0;c<a.length;c+=1)if(a[c].id===b.id)return a[c];return b});var b=this.calculatePinchDistance(),c=this.state.zoomLevel+b-this.pinchDistance;this.pinchDistance=b;var d=this.calculatePinchCenter(this.pinchTouchList),e=d.x,f=d.y;this.changeZoom(c,e,f)}},{key:"handlePinchEnd",value:function(){this.currentAction=0,this.pinchTouchList=null,this.pinchDistance=0}},{key:"handleWindowResize",value:function(){this.clearTimeout(this.resizeTimeout),this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}},{key:"handleZoomInButtonClick",value:function(){var a=this.state.zoomLevel+100;this.changeZoom(a),300===a&&this.zoomOutBtn.current.focus()}},{key:"handleZoomOutButtonClick",value:function(){var a=this.state.zoomLevel-100;this.changeZoom(a),0===a&&this.zoomInBtn.current.focus()}},{key:"handleCaptionMousewheel",value:function(a){if(a.stopPropagation(),this.caption.current){var b=this.caption.current.getBoundingClientRect().height,c=this.caption.current,d=c.scrollHeight,e=c.scrollTop;(a.deltaY>0&&b+e>=d||a.deltaY<0&&e<=0)&&a.preventDefault()}}},{key:"isAnimating",value:function(){return this.state.shouldAnimate||this.state.isClosing}},{key:"isImageLoaded",value:function(a){return a&&a in this.imageCache&&this.imageCache[a].loaded}},{key:"loadImage",value:function(a,b,d){var e=this;if(this.isImageLoaded(b)){this.setTimeout(function(){d()},1);return}var f=new c.g.Image;this.props.imageCrossOrigin&&(f.crossOrigin=this.props.imageCrossOrigin),f.onerror=function(c){e.props.onImageLoadError(b,a,c),e.setState(function(b){return{loadErrorStatus:j(j({},b.loadErrorStatus),{},l({},a,!0))}}),d(c)},f.onload=function(){e.props.onImageLoad(b,a,f),e.imageCache[b]={loaded:!0,width:f.width,height:f.height},d()},f.src=b}},{key:"loadAllImages",value:function(){var a=this,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.props;this.getSrcTypes().forEach(function(c){var d,e,f=c.name;b[f]&&a.state.loadErrorStatus[f]&&a.setState(function(a){return{loadErrorStatus:j(j({},a.loadErrorStatus),{},l({},f,!1))}}),b[f]&&!a.isImageLoaded(b[f])&&a.loadImage(f,b[f],(d=f,e=b[f],function(b){!b&&a.props[d]===e&&!a.didUnmount&&a.forceUpdate()}))})}},{key:"requestClose",value:function(a){var b=this,c=function(){return b.props.onCloseRequest(a)};if(this.props.animationDisabled||"keydown"===a.type&&!this.props.animationOnKeyInput){c();return}this.setState({isClosing:!0}),this.setTimeout(c,this.props.animationDuration)}},{key:"requestMove",value:function(a,b){var c=this,d={zoomLevel:0,offsetX:0,offsetY:0};this.props.animationDisabled||this.keyPressed&&!this.props.animationOnKeyInput||(d.shouldAnimate=!0,this.setTimeout(function(){return c.setState({shouldAnimate:!1})},this.props.animationDuration)),this.keyPressed=!1,this.moveRequested=!0,"prev"===a?(this.keyCounter-=1,this.setState(d),this.props.onMovePrevRequest(b)):(this.keyCounter+=1,this.setState(d),this.props.onMoveNextRequest(b))}},{key:"requestMoveNext",value:function(a){this.requestMove("next",a)}},{key:"requestMovePrev",value:function(a){this.requestMove("prev",a)}},{key:"render",value:function(){var a=this,b=this.props,e=b.animationDisabled,f=b.animationDuration,g=b.clickOutsideToClose,i=b.discourageDownloads,k=b.enableZoom,l=b.imageTitle,n=b.nextSrc,o=b.prevSrc,p=b.toolbarButtons,q=b.reactModalStyle,s=b.onAfterOpen,u=b.imageCrossOrigin,v=b.reactModalProps,w=b.loader,x=this.state,y=x.zoomLevel,z=x.offsetX,B=x.offsetY,C=x.isClosing,D=x.loadErrorStatus,E=this.getLightboxRect(),F={};!e&&this.isAnimating()&&(F=j(j({},F),{},{transition:"transform ".concat(f,"ms")}));var G={};this.getSrcTypes().forEach(function(a){var b=a.name,c=a.keyEnding;G[b]=c});var H=[],I=function(b,c,e){if(a.props[b]){var f,g=a.getBestImageForType(b),h=j(j({},F),t.getTransform(j(j({},e),g)));if(y>0&&(h.cursor="move"),null===g&&Object.keys(f=D).some(function(a){return f[a]})){H.push(d.createElement("div",{className:"".concat(c," ril__image ril-errored"),style:h,key:a.props[b]+G[b]},d.createElement("div",{className:"ril__errorContainer"},a.props.imageLoadErrorMessage)));return}if(null===g){var k=void 0!==w?w:d.createElement("div",{className:"ril-loading-circle ril__loadingCircle ril__loadingContainer__icon"},r(Array(12)).map(function(a,b){return d.createElement("div",{key:b,className:"ril-loading-circle-point ril__loadingCirclePoint"})}));H.push(d.createElement("div",{className:"".concat(c," ril__image ril-not-loaded"),style:h,key:a.props[b]+G[b]},d.createElement("div",{className:"ril__loadingContainer"},k)));return}var n=g.src;i?(h.backgroundImage="url('".concat(n,"')"),H.push(d.createElement("div",{className:"".concat(c," ril__image ril__imageDiscourager"),onDoubleClick:a.handleImageDoubleClick,onWheel:a.handleImageMouseWheel,style:h,key:n+G[b]},d.createElement("div",{className:"ril-download-blocker ril__downloadBlocker"})))):H.push(d.createElement("img",m({},u?{crossOrigin:u}:{},{className:"".concat(c," ril__image"),onDoubleClick:a.handleImageDoubleClick,onWheel:a.handleImageMouseWheel,onDragStart:function(a){return a.preventDefault()},style:h,src:n,key:n+G[b],alt:"string"==typeof l?l:A("Image"),draggable:!1})))}},J=this.getZoomMultiplier();I("nextSrc","ril-image-next ril__imageNext",{x:E.width}),I("mainSrc","ril-image-current",{x:-1*z,y:-1*B,zoom:J}),I("prevSrc","ril-image-prev ril__imagePrev",{x:-1*E.width});var K={overlay:j({zIndex:1e3,backgroundColor:"transparent"},q.overlay),content:j({backgroundColor:"transparent",overflow:"hidden",border:"none",borderRadius:0,padding:0,top:0,left:0,right:0,bottom:0},q.content)};return d.createElement(h(),m({isOpen:!0,onRequestClose:g?this.requestClose:void 0,onAfterOpen:function(){a.outerEl.current&&a.outerEl.current.focus(),s()},style:K,contentLabel:A("Lightbox"),appElement:void 0!==c.g.window?c.g.window.document.body:void 0},v),d.createElement("div",{className:"ril-outer ril__outer ril__outerAnimating ".concat(this.props.wrapperClassName," ").concat(C?"ril-closing ril__outerClosing":""),style:{transition:"opacity ".concat(f,"ms"),animationDuration:"".concat(f,"ms"),animationDirection:C?"normal":"reverse"},ref:this.outerEl,onWheel:this.handleOuterMousewheel,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,tabIndex:"-1",onKeyDown:this.handleKeyInput,onKeyUp:this.handleKeyInput},d.createElement("div",{className:"ril-inner ril__inner",onClick:g?this.closeIfClickInner:void 0},H),o&&d.createElement("button",{type:"button",className:"ril-prev-button ril__navButtons ril__navButtonPrev",key:"prev","aria-label":this.props.prevLabel,title:this.props.prevLabel,onClick:this.isAnimating()?void 0:this.requestMovePrev}),n&&d.createElement("button",{type:"button",className:"ril-next-button ril__navButtons ril__navButtonNext",key:"next","aria-label":this.props.nextLabel,title:this.props.nextLabel,onClick:this.isAnimating()?void 0:this.requestMoveNext}),d.createElement("div",{className:"ril-toolbar ril__toolbar"},d.createElement("ul",{className:"ril-toolbar-left ril__toolbarSide ril__toolbarLeftSide"},d.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},d.createElement("span",{className:"ril-toolbar__item__child ril__toolbarItemChild"},l))),d.createElement("ul",{className:"ril-toolbar-right ril__toolbarSide ril__toolbarRightSide"},p&&p.map(function(a,b){return d.createElement("li",{key:"button_".concat(b+1),className:"ril-toolbar__item ril__toolbarItem"},a)}),k&&d.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},d.createElement("button",{type:"button",key:"zoom-in","aria-label":this.props.zoomInLabel,title:this.props.zoomInLabel,className:["ril-zoom-in","ril__toolbarItemChild","ril__builtinButton","ril__zoomInButton"].concat(r(300===y?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomInBtn,disabled:this.isAnimating()||300===y,onClick:this.isAnimating()||300===y?void 0:this.handleZoomInButtonClick})),k&&d.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},d.createElement("button",{type:"button",key:"zoom-out","aria-label":this.props.zoomOutLabel,title:this.props.zoomOutLabel,className:["ril-zoom-out","ril__toolbarItemChild","ril__builtinButton","ril__zoomOutButton"].concat(r(0===y?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomOutBtn,disabled:this.isAnimating()||0===y,onClick:this.isAnimating()||0===y?void 0:this.handleZoomOutButtonClick})),d.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},d.createElement("button",{type:"button",key:"close","aria-label":this.props.closeLabel,title:this.props.closeLabel,className:"ril-close ril-toolbar__item__child ril__toolbarItemChild ril__builtinButton ril__closeButton",onClick:this.isAnimating()?void 0:this.requestClose})))),this.props.imageCaption&&d.createElement("div",{onWheel:this.handleCaptionMousewheel,onMouseDown:function(a){return a.stopPropagation()},className:"ril-caption ril__caption",ref:this.caption},d.createElement("div",{className:"ril-caption-content ril__captionContent"},this.props.imageCaption))))}}],i=[{key:"isTargetMatchImage",value:function(a){return a&&/ril-image-current/.test(a.className)}},{key:"parseMouseEvent",value:function(a){return{id:"mouse",source:1,x:parseInt(a.clientX,10),y:parseInt(a.clientY,10)}}},{key:"parseTouchPointer",value:function(a){return{id:a.identifier,source:2,x:parseInt(a.clientX,10),y:parseInt(a.clientY,10)}}},{key:"parsePointerEvent",value:function(a){return{id:a.pointerId,source:3,x:parseInt(a.clientX,10),y:parseInt(a.clientY,10)}}},{key:"getTransform",value:function(a){var b=a.x,c=a.y,d=a.zoom,e=a.width,f=a.targetWidth,g=void 0===b?0:b,h=B();e>h&&(g+=(h-e)/2);var i=(void 0===d?1:d)*(f/e);return{transform:"translate3d(".concat(g,"px,").concat(void 0===c?0:c,"px,0) scale3d(").concat(i,",").concat(i,",1)")}}}],g&&k(f.prototype,g),i&&k(f,i),t}(d.Component);F.propTypes={mainSrc:f().string.isRequired,prevSrc:f().string,nextSrc:f().string,mainSrcThumbnail:f().string,prevSrcThumbnail:f().string,nextSrcThumbnail:f().string,onCloseRequest:f().func.isRequired,onMovePrevRequest:f().func,onMoveNextRequest:f().func,onImageLoadError:f().func,onImageLoad:f().func,onAfterOpen:f().func,discourageDownloads:f().bool,animationDisabled:f().bool,animationOnKeyInput:f().bool,animationDuration:f().number,keyRepeatLimit:f().number,keyRepeatKeyupBonus:f().number,imageTitle:f().node,imageCaption:f().node,imageCrossOrigin:f().string,reactModalStyle:f().shape({}),imagePadding:f().number,wrapperClassName:f().string,toolbarButtons:f().arrayOf(f().node),clickOutsideToClose:f().bool,enableZoom:f().bool,reactModalProps:f().shape({}),nextLabel:f().string,prevLabel:f().string,zoomInLabel:f().string,zoomOutLabel:f().string,closeLabel:f().string,imageLoadErrorMessage:f().node,loader:f().node},F.defaultProps={imageTitle:null,imageCaption:null,toolbarButtons:null,reactModalProps:{},animationDisabled:!1,animationDuration:300,animationOnKeyInput:!1,clickOutsideToClose:!0,closeLabel:"Close lightbox",discourageDownloads:!1,enableZoom:!0,imagePadding:10,imageCrossOrigin:null,keyRepeatKeyupBonus:40,keyRepeatLimit:180,mainSrcThumbnail:null,nextLabel:"Next image",nextSrc:null,nextSrcThumbnail:null,onAfterOpen:function(){},onImageLoadError:function(){},onImageLoad:function(){},onMoveNextRequest:function(){},onMovePrevRequest:function(){},prevLabel:"Previous image",prevSrc:null,prevSrcThumbnail:null,reactModalStyle:{},wrapperClassName:"",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",imageLoadErrorMessage:"This image failed to load",loader:void 0},b.Z=F},46871:function(a,b,c){"use strict";function d(){var a=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=a&&this.setState(a)}function e(a){this.setState((function(b){var c=this.constructor.getDerivedStateFromProps(a,b);return null!=c?c:null}).bind(this))}function f(a,b){try{var c=this.props,d=this.state;this.props=a,this.state=b,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(c,d)}finally{this.props=c,this.state=d}}function g(a){var b=a.prototype;if(!b||!b.isReactComponent)throw Error("Can only polyfill class components");if("function"!=typeof a.getDerivedStateFromProps&&"function"!=typeof b.getSnapshotBeforeUpdate)return a;var c=null,g=null,h=null;if("function"==typeof b.componentWillMount?c="componentWillMount":"function"==typeof b.UNSAFE_componentWillMount&&(c="UNSAFE_componentWillMount"),"function"==typeof b.componentWillReceiveProps?g="componentWillReceiveProps":"function"==typeof b.UNSAFE_componentWillReceiveProps&&(g="UNSAFE_componentWillReceiveProps"),"function"==typeof b.componentWillUpdate?h="componentWillUpdate":"function"==typeof b.UNSAFE_componentWillUpdate&&(h="UNSAFE_componentWillUpdate"),null!==c||null!==g||null!==h){var i=a.displayName||a.name,j="function"==typeof a.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+j+" but also contains the following legacy lifecycles:"+(null!==c?"\n  "+c:"")+(null!==g?"\n  "+g:"")+(null!==h?"\n  "+h:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof a.getDerivedStateFromProps&&(b.componentWillMount=d,b.componentWillReceiveProps=e),"function"==typeof b.getSnapshotBeforeUpdate){if("function"!=typeof b.componentDidUpdate)throw Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");b.componentWillUpdate=f;var k=b.componentDidUpdate;b.componentDidUpdate=function(a,b,c){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:c;k.call(this,a,b,d)}}return a}c.r(b),c.d(b,{polyfill:function(){return g}}),d.__suppressDeprecationWarning=!0,e.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0},29983:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.bodyOpenClassName=b.portalClassName=void 0;var d,e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(67294),h=s(g),i=c(73935),j=s(i),k=c(45697),l=s(k),m=c(28747),n=s(m),o=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(57149)),p=c(51112),q=s(p),r=c(46871);function s(a){return a&&a.__esModule?a:{default:a}}function t(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}var u=b.portalClassName="ReactModalPortal",v=b.bodyOpenClassName="ReactModal__Body--open",w=p.canUseDOM&& void 0!==j.default.createPortal,x=function(a){return document.createElement(a)},y=function(){return w?j.default.createPortal:j.default.unstable_renderSubtreeIntoContainer},z=function(a){function b(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,b);for(var a,c,d,f,g=arguments.length,i=Array(g),k=0;k<g;k++)i[k]=arguments[k];return f=(c=d=t(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(i))),d.removePortal=function(){w||j.default.unmountComponentAtNode(d.node);var a,b=(a=d.props.parentSelector)();b&&b.contains(d.node)?b.removeChild(d.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},d.portalRef=function(a){d.portal=a},d.renderPortal=function(a){var c=y()(d,h.default.createElement(n.default,e({defaultStyles:b.defaultStyles},a)),d.node);d.portalRef(c)},c),t(d,f)}return!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),f(b,[{key:"componentDidMount",value:function(){if(p.canUseDOM){var a;w||(this.node=x("div")),this.node.className=this.props.portalClassName,(a=this.props.parentSelector)().appendChild(this.node),w||this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(a){var b,c,d;return{prevParent:(b=a.parentSelector)(),nextParent:(c=this.props.parentSelector)()}}},{key:"componentDidUpdate",value:function(a,b,c){if(p.canUseDOM){var d=this.props,e=d.isOpen,f=d.portalClassName;a.portalClassName!==f&&(this.node.className=f);var g=c.prevParent,h=c.nextParent;h!==g&&(g.removeChild(this.node),h.appendChild(this.node)),(a.isOpen||e)&&(w||this.renderPortal(this.props))}}},{key:"componentWillUnmount",value:function(){if(p.canUseDOM&&this.node&&this.portal){var a=this.portal.state,b=Date.now(),c=a.isOpen&&this.props.closeTimeoutMS&&(a.closesAt||b+this.props.closeTimeoutMS);c?(a.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,c-b)):this.removePortal()}}},{key:"render",value:function(){return p.canUseDOM&&w?(!this.node&&w&&(this.node=x("div")),y()(h.default.createElement(n.default,e({ref:this.portalRef,defaultStyles:b.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(a){o.setElement(a)}}]),b}(g.Component);z.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(q.default),l.default.instanceOf(p.SafeHTMLCollection),l.default.instanceOf(p.SafeNodeList),l.default.arrayOf(l.default.instanceOf(q.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},z.defaultProps={isOpen:!1,portalClassName:u,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(a,b){return h.default.createElement("div",a,b)},contentElement:function(a,b){return h.default.createElement("div",a,b)}},z.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,r.polyfill)(z),b.default=z},28747:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(67294),h=c(45697),i=w(h),j=c(99685),k=v(j),l=c(88338),m=w(l),n=c(57149),o=v(n),p=c(32409),q=v(p),r=c(51112),s=w(r),t=c(89623),u=w(t);function v(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function w(a){return a&&a.__esModule?a:{default:a}}c(35063);var x={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,z=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.setOverlayRef=function(a){c.overlay=a,c.props.overlayRef&&c.props.overlayRef(a)},c.setContentRef=function(a){c.content=a,c.props.contentRef&&c.props.contentRef(a)},c.afterClose=function(){var a=c.props,b=a.appElement,d=a.ariaHideApp,e=a.htmlOpenClassName,f=a.bodyOpenClassName;f&&q.remove(document.body,f),e&&q.remove(document.getElementsByTagName("html")[0],e),d&&y>0&&0==(y-=1)&&o.show(b),c.props.shouldFocusAfterRender&&(c.props.shouldReturnFocusAfterClose?(k.returnFocus(c.props.preventScroll),k.teardownScopedFocus()):k.popWithoutFocus()),c.props.onAfterClose&&c.props.onAfterClose(),u.default.deregister(c)},c.open=function(){c.beforeOpen(),c.state.afterOpen&&c.state.beforeClose?(clearTimeout(c.closeTimer),c.setState({beforeClose:!1})):(c.props.shouldFocusAfterRender&&(k.setupScopedFocus(c.node),k.markForFocusLater()),c.setState({isOpen:!0},function(){c.openAnimationFrame=requestAnimationFrame(function(){c.setState({afterOpen:!0}),c.props.isOpen&&c.props.onAfterOpen&&c.props.onAfterOpen({overlayEl:c.overlay,contentEl:c.content})})}))},c.close=function(){c.props.closeTimeoutMS>0?c.closeWithTimeout():c.closeWithoutTimeout()},c.focusContent=function(){return c.content&&!c.contentHasFocus()&&c.content.focus({preventScroll:!0})},c.closeWithTimeout=function(){var a=Date.now()+c.props.closeTimeoutMS;c.setState({beforeClose:!0,closesAt:a},function(){c.closeTimer=setTimeout(c.closeWithoutTimeout,c.state.closesAt-Date.now())})},c.closeWithoutTimeout=function(){c.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},c.afterClose)},c.handleKeyDown=function(a){9===a.keyCode&&(0,m.default)(c.content,a),c.props.shouldCloseOnEsc&&27===a.keyCode&&(a.stopPropagation(),c.requestClose(a))},c.handleOverlayOnClick=function(a){null===c.shouldClose&&(c.shouldClose=!0),c.shouldClose&&c.props.shouldCloseOnOverlayClick&&(c.ownerHandlesClose()?c.requestClose(a):c.focusContent()),c.shouldClose=null},c.handleContentOnMouseUp=function(){c.shouldClose=!1},c.handleOverlayOnMouseDown=function(a){c.props.shouldCloseOnOverlayClick||a.target!=c.overlay||a.preventDefault()},c.handleContentOnClick=function(){c.shouldClose=!1},c.handleContentOnMouseDown=function(){c.shouldClose=!1},c.requestClose=function(a){return c.ownerHandlesClose()&&c.props.onRequestClose(a)},c.ownerHandlesClose=function(){return c.props.onRequestClose},c.shouldBeClosed=function(){return!c.state.isOpen&&!c.state.beforeClose},c.contentHasFocus=function(){return document.activeElement===c.content||c.content.contains(document.activeElement)},c.buildClassName=function(a,b){var d=(void 0===b?"undefined":e(b))==="object"?b:{base:x[a],afterOpen:x[a]+"--after-open",beforeClose:x[a]+"--before-close"},f=d.base;return c.state.afterOpen&&(f=f+" "+d.afterOpen),c.state.beforeClose&&(f=f+" "+d.beforeClose),"string"==typeof b&&b?f+" "+b:f},c.attributesFromObject=function(a,b){return Object.keys(b).reduce(function(c,d){return c[a+"-"+d]=b[d],c},{})},c.state={afterOpen:!1,beforeClose:!1},c.shouldClose=null,c.moveFromContentToOverlay=null,c}return!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,a),f(b,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(a,b){this.props.isOpen&&!a.isOpen?this.open():!this.props.isOpen&&a.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!b.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var a=this.props,b=a.appElement,c=a.ariaHideApp,d=a.htmlOpenClassName,e=a.bodyOpenClassName;e&&q.add(document.body,e),d&&q.add(document.getElementsByTagName("html")[0],d),c&&(y+=1,o.hide(b)),u.default.register(this)}},{key:"render",value:function(){var a=this.props,b=a.id,c=a.className,e=a.overlayClassName,f=a.defaultStyles,g=a.children,h=c?{}:f.content,i=e?{}:f.overlay;if(this.shouldBeClosed())return null;var j={ref:this.setOverlayRef,className:this.buildClassName("overlay",e),style:d({},i,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},k=d({id:b,ref:this.setContentRef,style:d({},h,this.props.style.content),className:this.buildClassName("content",c),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",d({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),l=this.props.contentElement(k,g);return this.props.overlayElement(j,l)}}]),b}(g.Component);z.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},z.propTypes={isOpen:i.default.bool.isRequired,defaultStyles:i.default.shape({content:i.default.object,overlay:i.default.object}),style:i.default.shape({content:i.default.object,overlay:i.default.object}),className:i.default.oneOfType([i.default.string,i.default.object]),overlayClassName:i.default.oneOfType([i.default.string,i.default.object]),bodyOpenClassName:i.default.string,htmlOpenClassName:i.default.string,ariaHideApp:i.default.bool,appElement:i.default.oneOfType([i.default.instanceOf(s.default),i.default.instanceOf(r.SafeHTMLCollection),i.default.instanceOf(r.SafeNodeList),i.default.arrayOf(i.default.instanceOf(s.default))]),onAfterOpen:i.default.func,onAfterClose:i.default.func,onRequestClose:i.default.func,closeTimeoutMS:i.default.number,shouldFocusAfterRender:i.default.bool,shouldCloseOnOverlayClick:i.default.bool,shouldReturnFocusAfterClose:i.default.bool,preventScroll:i.default.bool,role:i.default.string,contentLabel:i.default.string,aria:i.default.object,data:i.default.object,children:i.default.node,shouldCloseOnEsc:i.default.bool,overlayRef:i.default.func,contentRef:i.default.func,id:i.default.string,overlayElement:i.default.func,contentElement:i.default.func,testId:i.default.string},b.default=z,a.exports=b.default},57149:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resetState=function(){h&&(h.removeAttribute?h.removeAttribute("aria-hidden"):null!=h.length?h.forEach(function(a){return a.removeAttribute("aria-hidden")}):document.querySelectorAll(h).forEach(function(a){return a.removeAttribute("aria-hidden")})),h=null},b.log=function(){},b.assertNodeList=i,b.setElement=function(a){var b=a;if("string"==typeof b&&g.canUseDOM){var c=document.querySelectorAll(b);i(c,b),b=c}return h=b||h},b.validateElement=j,b.hide=function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=j(a)[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e.value.setAttribute("aria-hidden","true")}catch(g){c=!0,d=g}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}},b.show=function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=j(a)[Symbol.iterator]();!(b=(e=f.next()).done);b=!0)e.value.removeAttribute("aria-hidden")}catch(g){c=!0,d=g}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}},b.documentNotReadyOrSSRTesting=function(){h=null};var d,e,f=(d=c(42473),d&&d.__esModule?d:{default:d}),g=c(51112),h=null;function i(a,b){if(!a||!a.length)throw Error("react-modal: No elements were found for selector "+b+".")}function j(a){var b=a||h;return b?Array.isArray(b)||b instanceof HTMLCollection||b instanceof NodeList?b:[b]:((0,f.default)(!1,"react-modal: App element is not defined. Please use `Modal.setAppElement(el)` or set `appElement={el}`. This is needed so screen readers don't see main content when modal is opened. It is not recommended, but you can opt-out by setting `ariaHideApp={false}`."),[])}},35063:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resetState=function(){for(var a=[g,h],b=0;b<a.length;b++){var c=a[b];c&&c.parentNode&&c.parentNode.removeChild(c)}g=h=null,i=[]},b.log=function(){console.log("bodyTrap ----------"),console.log(i.length);for(var a=[g,h],b=0;b<a.length;b++){var c=a[b]||{};console.log(c.nodeName,c.className,c.id)}console.log("edn bodyTrap ----------")};var d,e,f=(d=c(89623),d&&d.__esModule?d:{default:d}),g=void 0,h=void 0,i=[];function j(){0!==i.length&&i[i.length-1].focusContent()}f.default.subscribe(function(a,b){g||h||((g=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),g.style.position="absolute",g.style.opacity="0",g.setAttribute("tabindex","0"),g.addEventListener("focus",j),(h=g.cloneNode()).addEventListener("focus",j)),(i=b).length>0?(document.body.firstChild!==g&&document.body.insertBefore(g,document.body.firstChild),document.body.lastChild!==h&&document.body.appendChild(h)):(g.parentElement&&g.parentElement.removeChild(g),h.parentElement&&h.parentElement.removeChild(h))})},32409:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resetState=function(){var a=document.getElementsByTagName("html")[0];for(var b in c)e(a,c[b]);var f=document.body;for(var g in d)e(f,d[g]);c={},d={}},b.log=function(){};var c={},d={};function e(a,b){a.classList.remove(b)}var f=function(a,b,c){c.forEach(function(c){var d,e;d=b,d[e=c]||(d[e]=0),d[e]+=1,a.add(c)})},g=function(a,b,c){c.forEach(function(c){var d,e;d=b,d[e=c]&&(d[e]-=1),0===b[c]&&a.remove(c)})};b.add=function(a,b){return f(a.classList,"html"==a.nodeName.toLowerCase()?c:d,b.split(" "))},b.remove=function(a,b){return g(a.classList,"html"==a.nodeName.toLowerCase()?c:d,b.split(" "))}},99685:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resetState=function(){g=[]},b.log=function(){},b.handleBlur=j,b.handleFocus=k,b.markForFocusLater=function(){g.push(document.activeElement)},b.returnFocus=function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],b=null;try{0!==g.length&&(b=g.pop()).focus({preventScroll:a});return}catch(c){console.warn(["You tried to return focus to",b,"but it is not in the DOM anymore"].join(" "))}},b.popWithoutFocus=function(){g.length>0&&g.pop()},b.setupScopedFocus=function(a){h=a,window.addEventListener?(window.addEventListener("blur",j,!1),document.addEventListener("focus",k,!0)):(window.attachEvent("onBlur",j),document.attachEvent("onFocus",k))},b.teardownScopedFocus=function(){h=null,window.addEventListener?(window.removeEventListener("blur",j),document.removeEventListener("focus",k)):(window.detachEvent("onBlur",j),document.detachEvent("onFocus",k))};var d,e,f=(d=c(37845),d&&d.__esModule?d:{default:d}),g=[],h=null,i=!1;function j(){i=!0}function k(){i&&(i=!1,h&&setTimeout(function(){!h.contains(document.activeElement)&&((0,f.default)(h)[0]||h).focus()},0))}},89623:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.log=function(){console.log("portalOpenInstances ----------"),console.log(d.openInstances.length),d.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")},b.resetState=function(){d=new c};var c=function a(){var b=this;!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,a),this.register=function(a){-1===b.openInstances.indexOf(a)&&(b.openInstances.push(a),b.emit("register"))},this.deregister=function(a){var c=b.openInstances.indexOf(a);-1!==c&&(b.openInstances.splice(c,1),b.emit("deregister"))},this.subscribe=function(a){b.subscribers.push(a)},this.emit=function(a){b.subscribers.forEach(function(c){return c(a,b.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},d=new c;b.default=d},51112:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.canUseDOM=b.SafeNodeList=b.SafeHTMLCollection=void 0;var d,e,f,g=(d=c(58875),d&&d.__esModule?d:{default:d}).default,h=g.canUseDOM?window.HTMLElement:{};b.SafeHTMLCollection=g.canUseDOM?window.HTMLCollection:{},b.SafeNodeList=g.canUseDOM?window.NodeList:{},b.canUseDOM=g.canUseDOM,b.default=h},88338:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b){var c=(0,f.default)(a);if(!c.length){b.preventDefault();return}var d=void 0,e=b.shiftKey,h=c[0],i=c[c.length-1],j=g();if(a===j){if(!e)return;d=i}if(i!==j||e||(d=h),h===j&&e&&(d=i),d){b.preventDefault(),d.focus();return}var k=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=k&&"Chrome"!=k[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var l=c.indexOf(j);if(l> -1&&(l+=e?-1:1),void 0===(d=c[l])){b.preventDefault(),(d=e?i:h).focus();return}b.preventDefault(),d.focus()}};var d,e,f=(d=c(37845),d&&d.__esModule?d:{default:d});function g(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:document;return a.activeElement.shadowRoot?g(a.activeElement.shadowRoot):a.activeElement}a.exports=b.default},37845:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=f;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */ var c=/input|select|textarea|button|object|iframe/;function d(a){var b=a.offsetWidth<=0&&a.offsetHeight<=0;if(b&&!a.innerHTML)return!0;try{var c=window.getComputedStyle(a);return b?"visible"!==c.getPropertyValue("overflow")||a.scrollWidth<=0&&a.scrollHeight<=0:"none"==c.getPropertyValue("display")}catch(d){return console.warn("Failed to inspect element style"),!1}}function e(a){var b=a.getAttribute("tabindex");null===b&&(b=void 0);var e,f,g,h=isNaN(b);return(h||b>=0)&&(e=a,f=!h,g=e.nodeName.toLowerCase(),(c.test(g)&&!e.disabled||"a"===g&&e.href||f)&&function(a){for(var b=a,c=a.getRootNode&&a.getRootNode();b&&b!==document.body;){if(c&&b===c&&(b=c.host.parentNode),d(b))return!1;b=b.parentNode}return!0}(e))}function f(a){return[].slice.call(a.querySelectorAll("*"),0).reduce(function(a,b){return a.concat(b.shadowRoot?f(b.shadowRoot):[b])},[]).filter(e)}a.exports=b.default},83253:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e,f=(d=c(29983),d&&d.__esModule?d:{default:d});b.default=f.default,a.exports=b.default},42473:function(a){"use strict";var b=function(){};a.exports=b}}])